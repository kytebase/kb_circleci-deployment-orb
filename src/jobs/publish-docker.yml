description: >
  Build and publish the docker image.

docker:
  - image: cimg/base:2022.09

parameters:
  image:
    description: Docker image
    type: string
steps:
  - checkout
  - run:
      name: Docker Login
      command: <<include(scripts/docker-login.sh)>>
  - run:
      name: Docker Build
      command: <<include(scripts/docker-build.sh)>>
  - run:
      name: Docker Push
      command: docker push << parameters.image >>:$CIRCLE_SHA1
